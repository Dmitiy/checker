# (Шашки online)[https://dmitiy.github.io/checker/]

Основные функции:

1. Правила движения:

   - Обычные шашки ходят только по диагонали вперед
   - Обычные шашки при взятии могут двигаться по любой диагонали
   - Дамки ходят по диагонали в любом направлении
   - Дамки могут ходить на любое количество клеток по диагонали (пока путь свободен)
   - Множественные взятия работают корректно для всех типов шашек.

2. Правила взятия:

   - Обязательное взятие (если есть возможность взять, обычный ход запрещен)
   - Множественное взятие (после взятия можно продолжить, если есть возможность)

3. Превращение в дамку:

   - Когда шашка достигает противоположного края доски, она становится дамкой
   - Во время боя простая шашка может превратиться в дамку и сразу продолжить бой по правилам дамки.
   - Дамка ходит вперёд и назад на любое поле той диагонали, на которой она стоит.
   - Дамка бьёт вперёд и назад, и становится на диагональ на любое свободное поле за побитой шашкой.

4. Визуальные улучшения:

   - Выделение выбранной шашки (желтый фон)
   - Подсветка возможных ходов (зеленый фон)
   - Дамки отмечены символом короля (♔)
   - Улучшенная цветовая схема доски

5. Логика игры:

   - Поочередные ходы темных и белых шашек
   - Автоматическое определение обязательных взятий
   - Проверка валидности ходов

6. Выигрыш партии

Выигравшим партию признается тот, кто первым достигнет положения, при котором его соперник:

- признав свою позицию проигранной, заявил о том, что сдается;
- не сможет сделать очередной ход (все шашки заблокированы);
- не имеет ни одной шашки;
- не успел сделать установленное количество ходов за определенное время.

Проверка выполняется после каждого хода

## DOCS

Внесенные изменения:

- canContinueCapture — при взятии обычные шашки могут продолжать брать в любом из 4 диагональных направлений (не только вперед).
- getPossibleMoves — для дамки добавлена логика ходов на любое количество клеток по диагонали, пока путь свободен.
- checkCapture — при взятии обычные шашки могут брать в любом диагональном направлении.

Структура проекта:

- js/config.js — константы и конфигурация (размеры доски, размеры ячеек)
- js/utils.js — утилиты (range, getIndex, isDarkCell)
- js/board.js — работа с доской (инициализация, getCell)
- js/gameState.js — состояние игры (WAWKA, canvas)
- js/moves.js — логика ходов (getPossibleMoves,checkCapture, canContinueCapture)
- js/gameLogic.js — игровая логика (moveChecker, checkMustCapture)
- js/render.js — отрисовка доски (redrawBoard)
- js/events.js — обработка событий (setupClickHandler)
- js/main.js — инициализация и запуск игры

## Диаграммы логики игры

Создан файл game-logic.md со схемой логики игры в шашки на Mermaid.

Файл включает:
Основной поток игры — от инициализации до выполнения ходов.

- Логика проверки возможных ходов — как определяются валидные ходы для обычных шашек и дамок
- Логика взятия шашек — алгоритм проверки взятий для обычных шашек и дамок
- Логика выполнения хода — полный процесс выполнения хода с проверками
- Состояния игры — диаграмма состояний игры
- Структура данных — класс-диаграмма основных структур данных

Алгоритм проверки обязательных взятий — как определяется необходимость обязательного взятия.

Диаграммы можно просмотреть в редакторах, поддерживающих Mermaid (GitHub, GitLab, VS Code с расширением Mermaid, онлайн-редакторы Mermaid).
